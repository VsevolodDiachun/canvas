{"ast":null,"code":"export const canvasRefMiddleware = extraData => store => next => action => {\n  if (action.type === 'canvas/setCanvasRef') {\n    // Доступ до extraData тут, якщо вам потрібно\n    const serializedRef = JSON.stringify(action.payload);\n    return next({\n      ...action,\n      payload: serializedRef\n    });\n  }\n  if (action.type === 'canvas/restoreCanvasRef') {\n    const deserializedRef = JSON.parse(action.payload);\n    return next(produce(store.getState(), draftState => {\n      draftState.canvas.canvasRef = deserializedRef;\n    }));\n  }\n  return next(action);\n};\nfunction produce(arg0, arg1) {\n  throw new Error(\"Function not implemented.\");\n}","map":{"version":3,"names":["canvasRefMiddleware","extraData","store","next","action","type","serializedRef","JSON","stringify","payload","deserializedRef","parse","produce","getState","draftState","canvas","canvasRef","arg0","arg1","Error"],"sources":["/Users/diachun/WebstormProjects/canvas/client/src/store/midl.ts"],"sourcesContent":["export const canvasRefMiddleware = (extraData: any) => (store: any) => (next: any) => (action: any) => {\n    if (action.type === 'canvas/setCanvasRef') {\n      // Доступ до extraData тут, якщо вам потрібно\n      const serializedRef = JSON.stringify(action.payload);\n      return next({ ...action, payload: serializedRef });\n    }\n  \n    if (action.type === 'canvas/restoreCanvasRef') {\n      const deserializedRef = JSON.parse(action.payload);\n      return next(\n        produce(store.getState(), (draftState) => {\n          draftState.canvas.canvasRef = deserializedRef;\n        })\n      );\n    }\n  \n    return next(action);\n  };\n\nfunction produce(arg0: any, arg1: (draftState: any) => void): any {\n    throw new Error(\"Function not implemented.\");\n}\n"],"mappings":"AAAA,OAAO,MAAMA,mBAAmB,GAAIC,SAAc,IAAMC,KAAU,IAAMC,IAAS,IAAMC,MAAW,IAAK;EACnG,IAAIA,MAAM,CAACC,IAAI,KAAK,qBAAqB,EAAE;IACzC;IACA,MAAMC,aAAa,GAAGC,IAAI,CAACC,SAAS,CAACJ,MAAM,CAACK,OAAO,CAAC;IACpD,OAAON,IAAI,CAAC;MAAE,GAAGC,MAAM;MAAEK,OAAO,EAAEH;IAAc,CAAC,CAAC;EACpD;EAEA,IAAIF,MAAM,CAACC,IAAI,KAAK,yBAAyB,EAAE;IAC7C,MAAMK,eAAe,GAAGH,IAAI,CAACI,KAAK,CAACP,MAAM,CAACK,OAAO,CAAC;IAClD,OAAON,IAAI,CACTS,OAAO,CAACV,KAAK,CAACW,QAAQ,CAAC,CAAC,EAAGC,UAAU,IAAK;MACxCA,UAAU,CAACC,MAAM,CAACC,SAAS,GAAGN,eAAe;IAC/C,CAAC,CACH,CAAC;EACH;EAEA,OAAOP,IAAI,CAACC,MAAM,CAAC;AACrB,CAAC;AAEH,SAASQ,OAAOA,CAACK,IAAS,EAAEC,IAA+B,EAAO;EAC9D,MAAM,IAAIC,KAAK,CAAC,2BAA2B,CAAC;AAChD"},"metadata":{},"sourceType":"module","externalDependencies":[]}